/* ==========================
   BASE / RESET
   ========================== */

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
    Arial, sans-serif;
  background-color: var(--app-bg);
  color: var(--app-text);
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Paleta Grupo C&S */
:root {
  --azul-primario: #0a84c1;
  --azul-primario-hover: #086fa2;
  --azul-escuro: #064f73;
  --azul-claro: #e6f3fb;

  --cinza-texto: #4a4a4a;
  --cinza-borda: #d9e2ec;
  --cinza-fundo: #f7f9fc;

  --branco: #ffffff;

  /* Transições padrão */
  --transition-smooth: cubic-bezier(0.4, 0, 0.2, 1);

  /* ==========================
     TEMA (SEMÂNTICO) – GLOBAL
     Use estas variáveis no sistema inteiro.
     ========================== */
  --app-bg: #ffffff;

  /* superfícies (cards) */
  --app-surface: #ffffff;
  --app-surface-2: #f6f7fb;

  /* texto */
  --app-text: #0b2a3a;
  --app-text-muted: rgba(11, 42, 58, 0.72);

  /* bordas e sombra */
  --app-border: rgba(0, 0, 0, 0.10);
  --app-shadow: 0 12px 28px rgba(0, 0, 0, 0.12);

  /* inputs */
  --app-input-bg: #ffffff;
  --app-input-text: #0b2a3a;
  --app-input-border: rgba(0, 0, 0, 0.14);
  --app-placeholder: rgba(11, 42, 58, 0.55);

  /* links/foco */
  --app-link: var(--azul-primario);
  --app-focus: rgba(10, 132, 193, 0.35);
}

/* ==========================
   AJUSTES RESPONSIVOS GLOBAIS
   ========================== */

/* Evita "estouro" horizontal em telas pequenas */
html,
body {
  width: 100%;
  overflow-x: hidden;
}

/* Mídias sempre fluidas */
img,
video,
canvas,
svg {
  max-width: 100%;
  height: auto;
}

/* Tipografia mais fluida sem bagunçar o layout */
h1 { font-size: clamp(1.6rem, 2.6vw, 2.8rem); line-height: 1.15; }
h2 { font-size: clamp(1.25rem, 2.0vw, 2.0rem); line-height: 1.2; }
h3 { font-size: clamp(1.05rem, 1.4vw, 1.45rem); line-height: 1.25; }

/* Container central padrão (controla PCs, monitores ultra-wide e TVs) */
:root {
  --container-max: 1100px;
  --container-pad: clamp(1rem, 3.2vw, 2.5rem);
}

/* Ajuste fino para telas bem grandes */
@media (min-width: 1400px) { :root { --container-max: 1280px; } }
@media (min-width: 1800px) { :root { --container-max: 1440px; } }
@media (min-width: 2400px) { :root { --container-max: 1600px; } }

/* Seleção melhorada */
::selection {
  background-color: var(--azul-primario);
  color: var(--branco);
}
::-moz-selection {
  background-color: var(--azul-primario);
  color: var(--branco);
}

/* ==========================
   COLOR SCHEME (EVITA CONTROLES “CLAROS” NO DARK)
   ========================== */
html { color-scheme: light; }
html.theme-dark { color-scheme: dark; }

/* ==========================
   TEMA ESCURO – GLOBAL
   Classe aplicada no <html>: html.theme-dark
   ========================== */
html.theme-dark {
  --app-bg: #0b1220;

  /* superfícies */
  --app-surface: #0f1a2e;
  --app-surface-2: #101d33;

  /* texto */
  --app-text: #e6edf6;
  --app-text-muted: rgba(230, 237, 246, 0.88);

  /* bordas e sombra */
  --app-border: rgba(255, 255, 255, 0.12);
  --app-shadow: 0 14px 34px rgba(0, 0, 0, 0.45);

  /* inputs */
  --app-input-bg: #0b1426;
  --app-input-text: #e6edf6;
  --app-input-border: rgba(255, 255, 255, 0.18);
  --app-placeholder: rgba(230, 237, 246, 0.70);

  /* links/foco */
  --app-link: #3bb6ff;
  --app-focus: rgba(59, 182, 255, 0.35);
}

/* ✅ Importante: pinta também o html (evita flash/áreas em branco) */
html.theme-dark,
html.theme-dark body {
  background-color: var(--app-bg) !important;
  color: var(--app-text) !important;
}

/* Ajustes globais para evitar "invisível" no dark */
html.theme-dark a { color: var(--app-link); }
html.theme-dark hr { border-color: var(--app-border); }

html.theme-dark ::selection {
  background: rgba(59, 182, 255, 0.35);
}

/* Inputs / selects / textarea (todas as páginas) */
html.theme-dark input,
html.theme-dark select,
html.theme-dark textarea {
  background: var(--app-input-bg) !important;
  color: var(--app-input-text) !important;
  border-color: var(--app-input-border) !important;
}

html.theme-dark input:focus,
html.theme-dark select:focus,
html.theme-dark textarea:focus {
  outline: none;
  box-shadow: 0 0 0 4px var(--app-focus) !important;
}

html.theme-dark input::placeholder,
html.theme-dark textarea::placeholder {
  color: var(--app-placeholder) !important;
}

/* ✅ Patch global: quando algum CSS antigo força branco em wrappers */
html.theme-dark :where(
  section, main, header, footer,
  .wrapper, .content, .conteudo, .container, .page, .pagina,
  .area, .area-conteudo, .conteudo-principal,
  .section, .section-wrapper, .section-container,
  .box-wrapper, .grid-wrapper
) {
  background-color: transparent;
}

/* Superfícies (cards/containers comuns) */
html.theme-dark :where(
  .card, .card-vaga, .vaga-card, .vaga, .vaga-item, .vaga-box,
  .box, .panel, .painel, .painel-card, .bloco, .bloco-card,
  .container-card, .section-card, .doc-card, .documento-card,
  .perfil-card, .auth-card, .form-card,
  .documento-item,
  .file-status,
  .drag-drop,
  .modal-preview-content,
  .perfil-container,
  .perfil-section,
  .perfil-box,
  .filtros,
  .filtros-box,
  .form-container,
  .cadastro-container,
  .vaga-detalhe,
  .vaga-detalhes,
  .detalhe-card,
  .detalhe-vaga-card,
  .vaga-detalhe-card,
  .vaga-detalhe__card
) {
  background: var(--app-surface) !important;
  color: var(--app-text) !important;
  border-color: var(--app-border) !important;
  box-shadow: var(--app-shadow);
}

/* Textos "muted" mais usados */
html.theme-dark :where(.muted, .hint, .sub, .subtitle, .descricao, .desc, .help, .small, .label-muted) {
  color: var(--app-text-muted) !important;
}

/* Ícones/font-awesome em áreas claras */
html.theme-dark i,
html.theme-dark .fa,
html.theme-dark .fas,
html.theme-dark .far,
html.theme-dark .fab {
  color: inherit;
}

/* ==========================
   DARK PATCH – Wrappers comuns e contraste
   ========================== */
html.theme-dark :where(body.pagina-cadastro, body.pagina-detalhe-vaga, body.page-perfil) {
  background: var(--app-bg) !important;
  color: var(--app-text) !important;
}

html.theme-dark :where(h1, h2, h3, h4, h5, h6, label, small, span, strong) {
  color: inherit;
}

/* ==========================
   DARK PATCH – card-glass (usado em Documentos/Perfil/etc)
   Garante que cards brancos não "estourem" no modo escuro.
   ========================== */
html.theme-dark .card-glass {
  background: var(--app-surface) !important;
  border: 1px solid var(--app-border) !important;
  color: var(--app-text) !important;
  box-shadow: 0 18px 55px rgba(0, 0, 0, 0.55) !important;
}
html.theme-dark .card-glass .card-head {
  border-bottom-color: var(--app-border) !important;
}
html.theme-dark .card-glass .card-head :where(h1, h2, h3, h4, span, i) {
  color: var(--app-text) !important;
}
html.theme-dark .card-glass .card-body {
  color: var(--app-text) !important;
}
html.theme-dark .card-glass .card-body :where(p, li, small, .muted, .hint, .sub) {
  color: var(--app-text-muted) !important;
}
